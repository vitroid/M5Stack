[env:m5camera]
platform = espressif32
board = m5stack-core-esp32
framework = arduino

; Arduino IDE互換性のための設定
; .inoファイルをサポートする場合（現在はmain.cppを使用）
; src_dir = src

; M5Camera用の設定（Arduino IDE互換）
board_build.partitions = default.csv
board_build.mcu = esp32
board_build.f_cpu = 240000000L
board_build.f_flash = 80000000L
board_build.flash_mode = qio
board_build.flash_size = 4MB

; 必要なライブラリ
lib_deps = 
    espressif/esp32-camera@^2.0.4
    m5stack/Timer-CAM

; シリアルポート設定（macOS用）
; 現在検出されたポート: /dev/cu.usbserial-7D52817F38
; ポート名は接続するたびに変わる可能性があるため、自動検出を使用するか、以下をコメント解除して指定
; upload_port = /dev/cu.usbserial-7D52817F38
; monitor_port = /dev/cu.usbserial-7D52817F38

; アップロード設定
upload_speed = 115200
upload_resetmethod = nodemcu
upload_flash_size = detect

; シリアルモニター設定
monitor_speed = 115200
monitor_filters = 
    default
    esp32_exception_decoder

; ビルドフラグ
build_flags = 
    -DBOARD_HAS_PSRAM
    -mfix-esp32-psram-cache-issue
    -DCORE_DEBUG_LEVEL=3
